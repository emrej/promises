<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Promises, promises</title>
</head>
<body>
<script>
    // Promises code will go here
    const areParentsHappy = true;
    const showOff = (phone) => {
        console.log(phone);
        return Promise.resolve(`Hey bro, I have a new ${phone.color} ${phone.brand} ${phone.model} phone`);
    }

    // Promise
    const willGetNewPhone = new Promise((resolve, reject) => {
        if (areParentsHappy) {
            const phone = {
                brand: 'Apple',
                model: 'iPhone Xs',
                color: 'Space Gray'
            };

            resolve(phone); // fulfilled
        } else {
            const reason = new Error('parents are not happy');

            reject(reason); // reject
        }
    });

    const askParents = () => {
        console.log('Before asking parents'); //log before
        willGetNewPhone
            .then(showOff)
            .then(fulfilled => {
                console.log(fulfilled);
            })
            .catch(error => {
                console.log(error.message);
            });
        console.log('After asking parents'); //log after
    };

    askParents();
</script>
</body>
</html>